{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
    Your Decision
{% endblock %}

{% block content %}
    <h3>Please select the side with more dots:</h3>
    <button id="left-button" class="btn btn-primary">Left</button>
    <button id="right-button" class="btn btn-primary">Right</button>
{% endblock %}

{% block scripts %}
    <script>
        document.getElementById('left-button').addEventListener('click', function() {
            liveSend({'choice': 'left'});
        });
        document.getElementById('right-button').addEventListener('click', function() {
            liveSend({'choice': 'right'});
        });
        function liveRecv(data) {
            if (data.choice_made) {
                // Disable buttons to prevent multiple submissions
                document.getElementById('left-button').disabled = true;
                document.getElementById('right-button').disabled = true;
                // Automatically proceed to the next page
                document.querySelector('.otree-btn-next').click();
            }
        }
    </script>
{% endblock %}
